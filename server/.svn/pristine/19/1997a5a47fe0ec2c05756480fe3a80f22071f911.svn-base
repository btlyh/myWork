package com.cambrian.dfhm.instancing;

import com.cambrian.common.object.Sample;
import com.cambrian.common.object.SampleFactory;
import com.cambrian.dfhm.battle.BattleCard;
import com.cambrian.dfhm.card.Card;

/**
 * 类说明：NPC类
 * 
 * @author：LazyBear
 * 
 */
public class NPC extends Sample
{

	/* static fields */
	public static SampleFactory factory = new SampleFactory();
	/* static methods */
	/** NPC中的怪物卡牌 */
	private int[] battleCardList;
	/** NPC的位置 */
	private int index;
	/** 挑战此NPC所需军令 */
	private int needToken;
	/** NPC类型(相当于副本类型) */
	private int type;
	/** 当前NPC所属关卡SID */
	private int instancingSid;
	/** 当前NPC周几开放(活动副本用) */
	private int openDay;
	/** 此NPC的攻击次数限制(限活动副本和穿越副本) */
	private int attConfine;
	/** 是否为BOSS战 1是 0否 */
	private int isBoss;
	/** 下一个普通NPC的位置 如果为0表示最高副本 */
	private int nextIndex;
	/** 开启挑战NPC的位置 如果为0则不配置 */
	private int hardIndex;
	/** 开启穿越NPC的位置 如果为0则不配置 */
	private int crossIndex;
	// 挑战成功要求: 只有挑战NPC才需配置
	/** 指定武将 */
	private int assignCardId;
	/** 是否需要武将全体存活 1是 0否 */
	private int isAllLive;
	/** 指定回合数 */
	private int assignRound;
	/** 指定武将个数 */
	private int cardCount;
	/** 一击所需造成的伤害 */
	private int assignDamage;
	/** 出战卡牌列表 */
	private BattleCard[] monsters;

	/* constructors */
	public NPC()
	{
		initMonsters();
	}

	/* properties */
	public int[] getBattleCardList()
	{
		return battleCardList;
	}

	public void setBattleCardList(int[] battleCardList)
	{
		this.battleCardList = battleCardList;
	}

	public int getIndex()
	{
		return index;
	}

	public void setIndex(int index)
	{
		this.index = index;
	}

	public int getNeedToken()
	{
		return needToken;
	}

	public void setNeedToken(int needToken)
	{
		this.needToken = needToken;
	}

	public int getType()
	{
		return type;
	}

	public void setType(int type)
	{
		this.type = type;
	}

	public int getInstancingSid()
	{
		return instancingSid;
	}

	public void setInstancingSid(int instancingSid)
	{
		this.instancingSid = instancingSid;
	}

	public int getOpenDay()
	{
		return openDay;
	}

	public void setOpenDay(int isOpen)
	{
		this.openDay = isOpen;
	}

	public int getAttConfine()
	{
		return attConfine;
	}

	public void setAttConfine(int attConfine)
	{
		this.attConfine = attConfine;
	}

	public int getIsBoss()
	{
		return isBoss;
	}

	public void setIsBoss(int isBoss)
	{
		this.isBoss = isBoss;
	}

	public int getAssignCardId()
	{
		return assignCardId;
	}

	public void setAssignCardId(int assignCardId)
	{
		this.assignCardId = assignCardId;
	}

	public int getIsAllLive()
	{
		return isAllLive;
	}

	public void setIsAllLive(int isAllLive)
	{
		this.isAllLive = isAllLive;
	}

	public int getAssignRound()
	{
		return assignRound;
	}

	public void setAssignRound(int assignRound)
	{
		this.assignRound = assignRound;
	}

	public int getCardCount()
	{
		return cardCount;
	}

	public void setCardCount(int cardCount)
	{
		this.cardCount = cardCount;
	}

	public int getAssignDamage()
	{
		return assignDamage;
	}

	public void setAssignDamage(int assignDamage)
	{
		this.assignDamage = assignDamage;
	}

	public int getNextIndex()
	{
		return nextIndex;
	}

	public void setNextIndex(int nextIndex)
	{
		this.nextIndex = nextIndex;
	}

	public int getHardIndex()
	{
		return hardIndex;
	}

	public void setHardIndex(int hardIndex)
	{
		this.hardIndex = hardIndex;
	}

	public int getCrossIndex()
	{
		return crossIndex;
	}

	public void setCrossIndex(int crossIndex)
	{
		this.crossIndex = crossIndex;
	}

	public BattleCard[] getMonsters()
	{
		return monsters;
	}

	/* init start */

	/* methods */
	private void initMonsters()
	{
		monsters = new BattleCard[battleCardList.length];
		for (int i = 0; i < monsters.length; i++)
		{
			Card card = (Card) Card.factory.getSample(battleCardList[i]);
			BattleCard battleCard = new BattleCard(card.getId(), card.getName(), card.getAvatar(), card.getTinyAvatar(), card.getLevel(),
					card.getAtt(), card.getSkillRate(), card.getDoubleSkill(), card.getAttRange(), card.getSkillId(), card.getMaxHp(),
					card.getCurHp(), i, card.getAimType(), card.getCritRate(), card.getDodgeRate(), 0, i);
			monsters[i] = battleCard;
		}
	}
}
