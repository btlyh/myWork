package com.cambrian.dfhm.skill;

import java.util.ArrayList;

import com.cambrian.dfhm.battle.BattleCard;
import com.cambrian.dfhm.battle.BattleRecord;

/**
 * 类说明：减少伤害技能
 * 
 * @author：Sebastian
 */
public class DecrHurtSkill extends Skill
{

	/* static fields */

	/* static methods */

	/* fields */
	/** 减少伤害百分比 */
	private int hurt;
	/** 回合数 */
	private int round;

	/* constructors */

	/* properties */

	/* init start */

	/* methods */
	private int decrHurt(BattleCard attCard)
	{
		System.err.println("减少伤害技能使用 -----------------");
		int hp=0;
		if(round>0)
		{
			hp=super.getSkillHurt(attCard.getAtt())-super.getSkillHurt(attCard.getAtt())*hurt/100;
			System.err.println("正常伤害 ==="+super.getSkillHurt(attCard.getAtt()));
			System.err.println("实际照成伤害 ==="+hp);
		}
		return hp;
	}

	@Override
	public ArrayList<Integer> skillValue(BattleCard attCard,
		ArrayList<Integer> aim,BattleCard[] aimList,BattleRecord record)
	{
		clearHurt();
		int value=decrHurt(attCard);
		record.setAttMax(value);
		addHurt(value);
		if(round>0) round--;
		System.err.println("减伤技能，照成伤害 ==="+value);
		return getHurtList();
	}
}
